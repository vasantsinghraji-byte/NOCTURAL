# ============================================================
# NOCTURNAL Healthcare Platform - Environment Variables
# ============================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# NEVER commit .env files to version control!
# ============================================================

# ── App Core ────────────────────────────────────────────────
NODE_ENV=development                    # development | staging | production | test
PORT=5000                               # Server port
APP_URL=http://localhost:5000           # Public-facing URL

# ── Database ────────────────────────────────────────────────
MONGODB_URI=mongodb://localhost:27017/nocturnal_dev   # Full connection string with auth
# Production replica set example:
# MONGODB_URI=mongodb://nocturnal_app:<password>@mongo1:27017,mongo2:27017,mongo3:27017/nocturnal_prod?replicaSet=rs0&authSource=nocturnal_prod
MONGODB_REPLICA_SET=                    # Replica set name (production only)

# ── Security ────────────────────────────────────────────────
JWT_SECRET=                             # Min 32 chars, 64+ recommended for production
JWT_EXPIRE=7d                           # Token expiration duration
ENCRYPTION_KEY=                         # Hex string, min 32 chars (e.g. openssl rand -hex 32)

# ── CORS ────────────────────────────────────────────────────
ALLOWED_ORIGINS=http://localhost:3000   # Comma-separated origins

# ── Payment Gateway ─────────────────────────────────────────
RAZORPAY_KEY_ID=                        # Razorpay API key ID
RAZORPAY_KEY_SECRET=                    # Razorpay API key secret

# ── Redis ───────────────────────────────────────────────────
REDIS_ENABLED=false                     # Set to "true" to enable Redis caching
REDIS_HOST=localhost                    # Redis server hostname
REDIS_PORT=6379                         # Redis server port
REDIS_PASSWORD=                         # Redis AUTH password

# ── Email / SMTP ────────────────────────────────────────────
SMTP_USER=                              # SMTP email address
SMTP_PASSWORD=                          # SMTP app password

# ── Firebase (Optional) ─────────────────────────────────────
FIREBASE_AUTH_ENABLED=false             # Enable Firebase authentication
GOOGLE_APPLICATION_CREDENTIALS=         # Path to service account JSON

# ── AI Integration (Optional) ───────────────────────────────
GEMINI_API_KEY=                         # Google Gemini API key

# ── File Upload ─────────────────────────────────────────────
MAX_FILE_SIZE=5242880                   # Max upload size in bytes (default 5MB)
USE_S3=false                            # Use S3 for file storage (production)

# ── Logging ─────────────────────────────────────────────────
LOG_LEVEL=info                          # error | warn | info | debug
SENTRY_DSN=                             # Sentry error tracking DSN (production)

# ── Clustering ──────────────────────────────────────────────
CLUSTER_MODE=false                      # Enable Node.js clustering (production)

# ============================================================
# Docker Compose Variables (used by docker-compose.yml)
# ============================================================

# ── MongoDB Docker ──────────────────────────────────────────
MONGO_ROOT_USER=admin                   # MongoDB root username
MONGO_ROOT_PASSWORD=                    # MongoDB root password (REQUIRED)
MONGO_APP_USER=nocturnal_app            # App-level DB username (prod compose)
MONGO_APP_PASSWORD=                     # App-level DB password (prod compose, REQUIRED)
MONGO_DB=nocturnal_prod                 # Production database name

# ── RabbitMQ Docker ─────────────────────────────────────────
RABBITMQ_USER=admin                     # RabbitMQ management user
RABBITMQ_PASSWORD=                      # RabbitMQ password (REQUIRED)

# ── Monitoring (optional, --profile monitoring) ─────────────
GRAFANA_USER=admin                      # Grafana admin username
GRAFANA_PASSWORD=                       # Grafana admin password

# ── ELK Logging Stack (docker-compose.logging.yml) ─────────
ELASTIC_PASSWORD=                       # Elasticsearch password (REQUIRED for logging stack)

# ============================================================
# Mongo Utility Scripts (standalone, not used by app)
# ============================================================
# These are used by: create-mongo-users.js, create-mongo-user.js,
# fix-auth-with-localhost-exception.js, verify-and-fix-auth.js,
# recreate-dev-prod-users.js
MONGO_ADMIN_PASSWORD=                   # MongoDB admin password for scripts
MONGO_DEV_PASSWORD=                     # MongoDB dev user password for scripts
MONGO_PROD_PASSWORD=                    # MongoDB prod user password for scripts
